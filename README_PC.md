# 印章提取与智能比对系统 - PC专业版

专为PC端浏览器优化的印章检测与比对系统，提供专业的桌面级用户体验。

## ✨ PC版特色功能

### 🖥️ 桌面级体验
- **响应式大屏布局**: 充分利用PC显示器空间
- **专业UI设计**: 现代化界面，符合桌面应用习惯
- **流畅动画效果**: 平滑的过渡和交互动画

### ⌨️ 键盘快捷键支持
- **Ctrl+O**: 快速打开文件
- **Ctrl+D**: 开始检测印章
- **Ctrl+Enter**: 开始智能比对
- **Ctrl+N**: 新建比对
- **F1**: 显示/隐藏快捷键帮助
- **Esc**: 关闭弹窗

### 🎯 增强功能
- **拖拽上传**: 支持拖拽和粘贴上传
- **文件预览**: 显示文件信息和大小
- **智能提示**: 操作引导和状态提示
- **加载遮罩**: 优雅的加载动画
- **确认对话框**: 防止误操作

## 🚀 快速启动

### Windows系统
```bash
# 方法1: 双击运行
run.bat

# 方法2: 命令行
python app.py
```

### Linux/macOS系统
```bash
# 方法1: 运行脚本
./run.sh

# 方法2: 命令行
python3 app.py
```

访问地址: http://localhost:5000

## 📋 使用流程

### 1️⃣ 上传PDF
- **拖拽上传**: 将PDF文件拖拽到上传区域
- **点击上传**: 点击上传区域选择文件
- **快捷键**: 按 `Ctrl+O` 快速选择文件
- **粘贴上传**: 复制PDF文件后按 `Ctrl+V`

### 2️⃣ 检测印章
- 点击"开始检测印章"按钮
- 或使用快捷键 `Ctrl+D`
- 系统自动分析PDF第一页的红色印章
- 筛选符合40mm±1mm尺寸要求的印章

### 3️⃣ 选择模板
- **选择印章**: 点击检测到的印章卡片
- **选择模板**: 从模板库中选择参考标准章
- 系统会自动滚动到下一个操作区域

### 4️⃣ 智能比对
- 点击"开始智能比对"按钮
- 或使用快捷键 `Ctrl+Enter`
- AI模型分析并生成详细报告
- 查看比对结果和结论

## ⚙️ 配置说明

### 修改模板目录
编辑 `app.py` 第12行：
```python
TEMPLATE_FOLDER = r"D:\work\OCR\Template"  # 修改为你的模板路径
```

### 修改印章尺寸
编辑 `app.py` 第16-17行：
```python
TARGET_DIAMETER_MM = 40.0    # 目标直径(mm)
TOLERANCE_MM = 1.0           # 容差范围(mm)
```

### 修改端口
编辑 `app.py` 最后一行：
```python
app.run(debug=True, host='0.0.0.0', port=5000)  # 修改端口号
```

## 🎨 界面布局

### 主界面结构
```
┌─────────────────────────────────────────┐
│  导航栏: Logo + 系统信息                │
├─────────────────────────────────────────┤
│  步骤指示器: 1-2-3-4 流程图             │
├─────────────────────────────────────────┤
│  ┌─────────────────────────────────┐   │
│  │ 上传区域: 拖拽/点击上传          │   │
│  └─────────────────────────────────┘   │
│  ┌─────────────────────────────────┐   │
│  │ 印章网格: 卡片式展示             │   │
│  └─────────────────────────────────┘   │
│  ┌─────────────────────────────────┐   │
│  │ 模板选择: 网格展示               │   │
│  └─────────────────────────────────┘   │
│  ┌─────────────────────────────────┐   │
│  │ 比对结果: 双图对比+报告          │   │
│  └─────────────────────────────────┘   │
└─────────────────────────────────────────┘
```

### 印章卡片信息
- 印章预览图
- 直径尺寸(mm)
- 位置坐标
- 选中状态

### 模板卡片信息
- 模板预览图
- 文件名
- 选中状态

### 比对结果展示
- 待检测印章图
- VS对比标识
- 参考模板图
- AI分析报告

## 🔧 技术特性

### 前端技术
- **HTML5**: 语义化标签和拖放API
- **CSS3**: Flexbox/Grid布局 + 动画
- **JavaScript ES6+**: 模块化 + 异步处理
- **Bootstrap 5**: 响应式组件

### 增强功能
- **拖放上传**: HTML5 Drag & Drop API
- **键盘快捷键**: 全局事件监听
- **文件粘贴**: Clipboard API
- **加载动画**: CSS动画 + JS控制
- **平滑滚动**: scrollIntoView API

### 性能优化
- **图片懒加载**: 优化加载速度
- **防抖处理**: 避免频繁操作
- **错误处理**: 完善的异常捕获
- **状态管理**: 清晰的数据流

## 📱 响应式支持

### 断点设置
- **大屏 (≥1200px)**: 4列印章网格
- **中屏 (≥768px)**: 3列印章网格
- **小屏 (<768px)**: 2列印章网格
- **手机 (<576px)**: 1列印章网格

### 自适应特性
- 弹性布局
- 图片自适应
- 文字大小调整
- 触摸友好的按钮

## 🎯 操作技巧

### 高效工作流
1. **批量处理**: 使用快捷键快速操作
2. **拖拽上传**: 从文件管理器直接拖拽
3. **键盘导航**: 减少鼠标操作
4. **快速重置**: 一键开始新的比对

### 最佳实践
1. **PDF准备**: 确保第一页清晰包含印章
2. **模板管理**: 按类型组织模板文件
3. **尺寸设置**: 根据实际需求调整容差
4. **网络环境**: 确保API调用网络畅通

## 🐛 常见问题

### Q1: 快捷键无效？
**A**: 确保焦点在页面上，点击空白处后再试

### Q2: 拖拽上传失败？
**A**: 检查浏览器是否支持HTML5拖放API

### Q3: 页面显示异常？
**A**: 清除浏览器缓存，或尝试使用Chrome/Firefox

### Q4: 印章检测不到？
**A**: 检查PDF第一页是否有红色印章，尺寸是否符合要求

### Q5: 模板加载失败？
**A**: 检查模板目录路径和文件权限

## 📊 性能指标

- **首屏加载时间**: < 1秒
- **文件上传**: 支持16MB大文件
- **印章检测**: 平均2-3秒
- **AI比对**: 平均5-10秒
- **响应延迟**: < 100ms

## 🔒 安全特性

- **文件类型验证**: 仅允许PDF格式
- **文件大小限制**: 防止大文件攻击
- **路径安全**: 防止目录遍历
- **XSS防护**: 内容转义处理

## 📄 文件说明

### 核心文件
- `app.py`: Flask后端主程序
- `templates/index_pc.html`: PC版前端页面
- `static/js/app_pc.js`: PC版前端逻辑
- `requirements.txt`: Python依赖

### 启动脚本
- `run.bat`: Windows快速启动
- `run.sh`: Linux/macOS启动

### 文档
- `README_PC.md`: PC版说明文档
- `Quick Deployment Guide.txt`: Quick Deployment Guide

## 🤝 更新日志

### v2.0.0 (PC专业版)
- ✨ 全新PC端界面设计
- ⌨️ 增加键盘快捷键支持
- 📁 优化文件上传体验
- 🎨 改进视觉效果和动画
- 🚀 提升操作流畅度
- 📱 增强响应式适配

## 📞 技术支持

如有问题或建议，请查看：
1. `README.md` - 详细技术文档
2. `app.py` - 后端代码注释
3. `static/js/app_pc.js` - 前端逻辑注释

---

**享受PC专业版带来的高效体验！** 🎉
